import{_ as k,u as M,a as C,r as m,o as j,b as S,c as l,d,e,t,f as n,g as D,w as F,n as v,F as N,h as T,i as E,j as B,k as I,l as L,m as V}from"./main.6d673937.js";/* empty css               */const P={class:"mc-module-detail"},$={key:0,class:"flex justify-center items-center min-h-[400px]"},O={key:1,class:"text-center py-8"},U={class:"text-xl font-bold text-gray-800 mb-2"},q={class:"text-gray-600"},H={key:2,class:"space-y-8"},W={class:"flex justify-between items-start"},X={class:"text-2xl font-bold text-gray-800 mb-2"},z={class:"text-gray-600"},A={class:"flex gap-4"},J=["disabled"],R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"card bg-base-100 shadow-xl"},K={class:"card-body"},Q={class:"card-title"},Y={class:"space-y-4"},Z={class:"flex justify-between items-center"},ee={class:"text-gray-600"},se={class:"flex justify-between items-center"},te={class:"text-gray-600"},ae={class:"flex justify-between items-center"},oe={class:"text-gray-600"},ne={class:"card bg-base-100 shadow-xl"},ce={class:"card-body"},le={class:"card-title"},de={key:0,class:"text-gray-600"},ie={key:1,class:"space-y-2"},re={key:0,class:"card bg-base-100 shadow-xl"},ue={class:"card-body"},_e={class:"card-title mb-4"},me={class:"card bg-base-100 shadow-xl"},ve={class:"card-body prose max-w-none"},ge={class:"card-title"},he=["innerHTML"],pe={__name:"MC_ModuleDetail",setup(fe){const{t:o}=M(),p=C(),i=V(),s=m(null),_=m(!0),r=m(!1),f=a=>new Date(a).toLocaleString(),y=a=>{switch(a){case"active":return"badge-success";case"inactive":return"badge-warning";case"error":return"badge-error";default:return"badge-ghost"}},g=async()=>{_.value=!0;try{const a=await fetch(`/wp-json/mesmeric-commerce/v1/modules/${p.params.id}`);if(!a.ok)throw new Error("Failed to fetch module details");const c=await a.json();s.value=c}catch(a){console.error("Error fetching module details:",a),i.error("Failed to fetch module details: "+a.message)}finally{_.value=!1}},b=async()=>{r.value=!0;try{const a=await fetch(`/wp-json/mesmeric-commerce/v1/modules/${s.value.id}/toggle`,{method:"POST",headers:{"X-WP-Nonce":window.mesCommerce.nonce}});if(!a.ok)throw new Error("Failed to toggle module");const c=await a.json();s.value=c,i.success(`Module ${c.status==="active"?"activated":"deactivated"} successfully`)}catch(a){console.error("Error toggling module:",a),i.error("Failed to toggle module: "+a.message)}finally{r.value=!1}},w=async a=>{r.value=!0;try{if(!(await fetch(`/wp-json/mesmeric-commerce/v1/modules/${s.value.id}/settings`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mesCommerce.nonce},body:JSON.stringify(a)})).ok)throw new Error("Failed to save settings");i.success("Settings saved successfully"),await g()}catch(c){console.error("Error saving settings:",c),i.error("Failed to save settings: "+c.message)}finally{r.value=!1}};return j(()=>{g()}),(a,c)=>{var h;const x=S("router-link");return l(),d("div",P,[_.value?(l(),d("div",$,c[0]||(c[0]=[e("div",{class:"loading loading-spinner loading-lg"},null,-1)]))):s.value?(l(),d("div",H,[e("div",W,[e("div",null,[e("h1",X,t(s.value.name),1),e("p",z,t(s.value.description),1)]),e("div",A,[e("button",{class:v(["btn",s.value.status==="active"?"btn-error":"btn-success"]),disabled:r.value,onClick:b},t(s.value.status==="active"?n(o)("Deactivate"):n(o)("Activate")),11,J)])]),e("div",R,[e("div",G,[e("div",K,[e("h2",Q,t(n(o)("Status Information")),1),e("div",Y,[e("div",Z,[e("span",ee,t(n(o)("Status")),1),e("span",{class:v(["badge",y(s.value.status)])},t(s.value.status),3)]),e("div",se,[e("span",te,t(n(o)("Version")),1),e("span",null,t(s.value.version),1)]),e("div",ae,[e("span",oe,t(n(o)("Last Updated")),1),e("span",null,t(f(s.value.lastUpdated)),1)])])])]),e("div",ne,[e("div",ce,[e("h2",le,t(n(o)("Dependencies")),1),(h=s.value.dependencies)!=null&&h.length?(l(),d("ul",ie,[(l(!0),d(N,null,T(s.value.dependencies,u=>(l(),d("li",{key:u.name,class:"flex justify-between items-center"},[e("span",null,t(u.name),1),e("span",{class:v(["badge",u.isInstalled?"badge-success":"badge-error"])},t(u.isInstalled?n(o)("Installed"):n(o)("Missing")),3)]))),128))])):(l(),d("div",de,t(n(o)("No dependencies required")),1))])])]),s.value.hasSettings?(l(),d("div",re,[e("div",ue,[e("h2",_e,t(n(o)("Module Settings")),1),(l(),E(B(s.value.settingsComponent),{module:s.value,onSave:w},null,40,["module"]))])])):I("",!0),e("div",me,[e("div",ve,[e("h2",ge,t(n(o)("Documentation")),1),e("div",{innerHTML:s.value.documentation},null,8,he)])])])):(l(),d("div",O,[e("h2",U,t(n(o)("Module Not Found")),1),e("p",q,t(n(o)("The requested module could not be found.")),1),D(x,{to:"/modules",class:"btn btn-primary mt-4"},{default:F(()=>[L(t(n(o)("Back to Modules")),1)]),_:1})]))])}}},we=k(pe,[["__scopeId","data-v-3df52986"]]);export{we as default};
